<h1 mat-dialog-title>Change Password</h1>
<div mat-dialog-content>
    <div id="forms" class="page-layout simple fullwidth" fxLayout="column">

        <div class="content p-12">
            <form class="flex flex-col mt-8 p-8 pb-4 bg-card rounded-2xl shadow overflow-hidden" name="passwordForm" [formGroup]="passwordForm"
                  (submit)="savePassword()">

                <div class="flex flex-col gt-xs:flex-row">
                    <mat-form-field

                        class="flex-auto gt-xs:pr-3">
                        <mat-label>Old password</mat-label>
                        <input matInput formControlName="oldPassword" required type="password" cdkFocusInitial>
                        <mat-error>{{ getErrorMessage(passwordForm.controls.oldPassword, 'Old password')}}</mat-error>
                    </mat-form-field>
                </div>

                <div class="flex flex-col gt-xs:flex-row">
                    <mat-form-field

                        class="flex-auto gt-xs:pr-3">
                        <mat-label>Password</mat-label>
                        <input matInput formControlName="password" type="password" required>
                        <mat-error>{{ getErrorMessage(passwordForm.controls.password, 'Password')}}</mat-error>
                    </mat-form-field>
                </div>

                <div class="flex flex-col gt-xs:flex-row">
                    <mat-form-field

                        class="flex-auto gt-xs:pr-3">
                        <mat-label>Confirm Password</mat-label>
                        <input matInput formControlName="confirmPassword" type="password"
                               required
                               [errorStateMatcher]="errorMatcher">
                        <mat-error>{{ getErrorMessage(passwordForm.controls.confirmPassword, 'Password confirmation')}}</mat-error>
                        <mat-error>{{ getErrorMessage(passwordForm, '')}}</mat-error>
                    </mat-form-field>
                </div>

                <div fxLayout="row" fxLayoutAlign="end end">
                    <button mat-raised-button type="button" class="warn mr-4" (click)="onCancel()">Cancel</button>
                    <button mat-raised-button class="accent mr-4" [disabled]="!passwordForm.valid" type="submit" >Save</button>
                </div>

            </form>
        </div>
    </div>
</div>
