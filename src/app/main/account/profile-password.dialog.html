<div *transloco="let t">
    <div class="h1 text-white bg-primary central">Change Password</div>
    <div mat-dialog-content>
        <div id="forms" class="simple fullwidth">

            <div class="content p-3">
                <form class="flex flex-col mt-2 p-2 pb-1 bg-card rounded-2xl shadow overflow-hidden" name="passwordForm"
                      [formGroup]="passwordForm"
                      (submit)="savePassword()">

                    <div class="flex flex-col gt-xs:flex-row">
                        <mat-form-field
                            class="flex-auto gt-xs:pr-3">
                            <mat-label>Old password</mat-label>
                            <input matInput formControlName="oldPassword" required type="password" cdkFocusInitial>
                            <mat-error>{{ getErrorMessage(passwordForm.controls.oldPassword, 'Old password')}}</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="flex flex-col gt-xs:flex-row">
                        <mat-form-field
                            class="flex-auto gt-xs:pr-3">
                            <mat-label>Password</mat-label>
                            <input matInput formControlName="password" type="password" required>
                            <mat-error>{{ getErrorMessage(passwordForm.controls.password, 'Password')}}</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="flex flex-col gt-xs:flex-row">
                        <mat-form-field
                            class="flex-auto gt-xs:pr-3">
                            <mat-label>Confirm Password</mat-label>
                            <input matInput formControlName="confirmPassword" type="password"
                                   required
                                   [errorStateMatcher]="errorMatcher">
                            <mat-error>{{ getErrorMessage(passwordForm.controls.confirmPassword, 'Password confirmation')}}</mat-error>
                            <mat-error>{{ getErrorMessage(passwordForm, '')}}</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="flex items-center justify-end">
                        <button class="fuse-mat-button-large w-20 mt-2 bg-primary"
                                mat-flat-button
                               [disabled]="!passwordForm.valid" type="submit">Save
                        </button>
                        <button class="fuse-mat-button-large w-20 mt-2"
                                mat-stroked-button type="button" (click)="onCancel()">Close
                        </button>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>
